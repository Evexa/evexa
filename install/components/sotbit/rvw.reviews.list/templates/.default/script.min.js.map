{"version":3,"file":"script.min.js","names":["SA_ReviewsList","init","params","this","signedParameters","arFile","JSON","parse","blockParent","document","querySelector","btnComplaints","querySelectorAll","btnLike","btnCopy","btnEdit","btnMore","initSlider","initEventComplaints","initEventLike","initEventCopy","initMore","initEventEdit","forEach","itemComplaints","addEventListener","currentComplaintItem","SA_ReviewsAdd","showModalResult","BX","message","itemLike","e","isNeedActiveLike","closest","item","classList","contains","elementRecalculationLike","itemCopy","url","URL","dataset","value","location","href","copy","itemEdit","modal","getElementById","anonymousCheckbox","hide","showRating","rating","setRatingValue","files","id","Object","keys","key","dropzone","displayExistingFile","src","type","edit","form","appendChild","hiddenInputs","create","attrs","name","setAttribute","Sotbit","Reviews","fixBodyScroll","overlay","showOverlay","element","hideElement","callback","unfixBodyScroll","once","showElement","innerHTML","trim","active","Number","moreReviewsController","editReviewsController","async","ajax","runComponentAction","mode","data","FormData","then","closeWait","mainModal","deleteFormField","SA_Reviews","reloadList","error","errors","map","join","showWait","more","processed","processHTML","html","content","DOMParser","parseFromString","HTML","remove","insertAdjacentHTML","processScripts","SCRIPT","console","text","navigator","clipboard","writeText","fallbackCopyTextToClipboard","hideNode","style","position","height","body","select","copyResult","execCommand","removeChild","Error","elem","isController","valueNode","valueLike","itemNodeParent","field","toUpperCase","elementLikeController","textContent","add","response","Swiper","slidesPerView","spaceBetween","navigation","nextEl","prevEl","elementComplaintController","reviewId","status","closeModalResult"],"sources":["rvw.reviews.list/templates/.default/script.js"],"mappings":"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","ignoreList":[],"sourcesContent":["SA_ReviewsList = {\n    init: function (params) {\n        this.signedParameters = params.signedParameters;\n\n        if (params.arFile) {\n            this.arFile = JSON.parse(params.arFile);\n        }\n\n        this.blockParent = document.querySelector('.reviews__content_wrapper');\n\n        if (this.blockParent) {\n            this.btnComplaints = this.blockParent.querySelectorAll('[data-type=\"complaints\"]');\n            this.btnLike = this.blockParent.querySelectorAll('[data-type=\"like\"]');\n            this.btnCopy = this.blockParent.querySelectorAll('[data-type=\"copy\"]');\n            this.btnEdit = this.blockParent.querySelectorAll('[data-type=\"edit\"]');\n            this.btnMore = document.querySelector('.more-reviews button');\n            this.initSlider();\n\n            if (this.btnComplaints) {\n                this.initEventComplaints();\n            }\n            if (this.btnLike) {\n                this.initEventLike();\n            }\n            if (this.btnCopy) {\n                this.initEventCopy();\n            }\n            if (this.btnMore) {\n                this.initMore();\n            }\n            if (this.btnEdit) {\n                this.initEventEdit();\n            }\n        }\n    },\n    initEventComplaints: function () {\n        this.btnComplaints.forEach(itemComplaints => {\n            itemComplaints.addEventListener('click', () => {\n                this.currentComplaintItem = itemComplaints;\n                SA_ReviewsAdd.showModalResult(BX.message('TITLE_MODAL_COMPLAINTS_SELECTION'), 'selection');\n            });\n        })\n    },\n\n    initEventLike: function () {\n        this.btnLike.forEach(itemLike => {\n            itemLike.addEventListener('click', (e) => {\n\n\n                this.isNeedActiveLike = true;\n\n                itemLike.closest('.content__reviews__item__control').querySelectorAll('.content__reviews__item__control__item').forEach(item => {\n                    if (item.classList.contains('btn-reviews-small--active')) {\n                        if (item != itemLike) {\n                            this.isNeedActiveLike = false;\n                            this.elementRecalculationLike(item, false);\n                            this.elementRecalculationLike(itemLike);\n                        }\n                    }\n                });\n\n                if (this.isNeedActiveLike) {\n                    this.elementRecalculationLike(itemLike);\n                }\n            });\n        })\n    },\n    initEventCopy: function () {\n        this.btnCopy.forEach(itemCopy => {\n            itemCopy.addEventListener('click', () => {\n                const url = new URL(itemCopy.dataset.value, location.href);\n                this.copy(url.href);\n            });\n        })\n    },\n\n    initEventEdit: function () {\n        this.btnEdit.forEach(itemEdit => {\n\n            itemEdit.addEventListener('click', () => {\n                const modal = document.getElementById('review_add__modal');\n                const anonymousCheckbox = modal.querySelector('[name=\"ANONYMOUS\"]');\n\n                if (anonymousCheckbox) {\n                    BX.hide(anonymousCheckbox.closest('.control__item-filter--checkbox'));\n                }\n\n                SA_ReviewsAdd.showRating(itemEdit.dataset.rating);\n                SA_ReviewsAdd.setRatingValue(itemEdit.dataset.rating);\n                if (this.arFile) {\n                    const files = this.arFile[itemEdit.dataset.id];\n\n                    if (files) {\n                        Object.keys(files).forEach(key => {\n\n                            SA_ReviewsAdd.dropzone.displayExistingFile({\n                                id: key,\n                                src: files[key].src,\n                                type: files[key].type,\n                                edit: files[key].edit,\n                            }, files[key].src);\n\n                            SA_ReviewsAdd.form.appendChild(\n                                SA_ReviewsAdd.hiddenInputs[key] = BX.create('input', {\n                                    attrs: {\n                                        'type': 'hidden',\n                                        'name': 'MEDIA[]',\n                                        'value': key\n                                    }\n                                })\n                            );\n                        });\n                    }\n                }\n\n                SA_ReviewsAdd.setRatingValue(itemEdit.dataset.rating);\n                SA_ReviewsAdd.form.setAttribute('data-active', 'edit');\n\n                SA_ReviewsAdd.form.appendChild(\n                    SA_ReviewsAdd.hiddenInputs[itemEdit.dataset.id] = BX.create('input', {\n                        attrs: {\n                            'type': 'hidden',\n                            'name': 'ID',\n              'value': itemEdit.dataset.id,\n            },\n          }),\n        );\n\n        BX.Sotbit.Reviews.fixBodyScroll();\n\n        if (!SA_ReviewsAdd.overlay) {\n          SA_ReviewsAdd.overlay = BX.Sotbit.Reviews.showOverlay();\n                        }\n\n        SA_ReviewsAdd.overlay.element.addEventListener('click', () => {\n          BX.Sotbit.Reviews.hideElement(modal, {\n            callback: () => {\n                BX.Sotbit.Reviews.unfixBodyScroll();\n            }\n          });\n          SA_ReviewsAdd.overlay?.hide();\n          SA_ReviewsAdd.overlay = null;\n        }, { once: true });\n\n        BX.Sotbit.Reviews.showElement(modal);\n                modal.querySelector('#review-comment').value = itemEdit.closest('.reviews__content').querySelector('.content__reviews__item__body p').innerHTML.trim();\n\n                if (SA_ReviewsAdd.form.dataset.active == 'edit') {\n                    //document.querySelector('#review_add__modal form').addEventListener('submit', this.editReviewsController.bind(this));\n                }\n            });\n        });\n    },\n\n    initMore: function () {\n        this.btnMore.addEventListener('click', () => {\n            let value = this.btnMore.value;\n\n            if (value <= 0) {\n                this.btnMore.setAttribute('value', '2');\n                value = 2;\n            } else {\n                this.btnMore.setAttribute('value', (value = Number(value) + 1));\n            }\n\n            this.moreReviewsController(value);\n        })\n    },\n\n    editReviewsController: async function (form) {\n        BX.ajax.runComponentAction('sotbit:rvw.reviews.list', 'edit', {\n            mode: 'class',\n            data: new FormData(form),\n        }).then(\n            () => {\n                BX.closeWait();\n\n        BX.Sotbit.Reviews.hideElement(SA_ReviewsAdd.mainModal, {\n                    callback: () => {\n            SA_ReviewsAdd.overlay?.hide();\n          },\n                });\n\n        BX.Sotbit.Reviews.unfixBodyScroll();\n        SA_ReviewsAdd.overlay?.hide();\n        SA_ReviewsAdd.overlay = null;\n                SA_ReviewsAdd.showModalResult(BX.message('TITLE_MODAL_EDIT'), 'success');\n        SA_ReviewsAdd.deleteFormField();\n                SA_Reviews.reloadList({});\n            },\n            (error) => {\n                BX.closeWait();\n        SA_ReviewsAdd.showModalResult(error.errors.map(item => item.message).join('\\n'), 'error');\n      },\n        );\n\n\n    },\n\n    moreReviewsController: async function (value) {\n        try {\n            BX.showWait();\n            const {data} = await BX.ajax.runComponentAction('sotbit:rvw.reviews', 'contentLoader', {\n                mode: 'class',\n                signedParameters: this.signedParameters,\n                data: {\n                    more: value\n                },\n            });\n\n            const processed = BX.processHTML(data.html, false),\n                html = new DOMParser().parseFromString(processed.HTML, \"text/html\"),\n                content = html.querySelector('.reviews__content_wrapper');\n\n            if (content) {\n                this.blockParent.querySelector('.pagination-reviews-wrapper')?.remove();\n                this.blockParent.insertAdjacentHTML('beforeend', content.innerHTML);\n                BX.ajax.processScripts(processed.SCRIPT);\n            }\n\n        } catch (e) {\n            console.error(e);\n        } finally {\n            BX.closeWait();\n        }\n    },\n\n    copy: async function (text) {\n        if (navigator.clipboard) {\n            await navigator.clipboard.writeText(text);\n            SA_ReviewsAdd.showModalResult(BX.message('TITLE_MODAL_COPY'), 'success');\n            return;\n        }\n\n        try {\n            this.fallbackCopyTextToClipboard(text);\n        } catch (e) {\n            return console.error('Unable to copy text');\n        }\n\n        SA_ReviewsAdd.showModalResult(BX.message('TITLE_MODAL_COPY'), 'success');\n    },\n\n    fallbackCopyTextToClipboard: function (text) {\n        const hideNode = BX.create('input', {\n            style: {\n                position: 'absolute',\n                height: 0,\n            },\n            attrs: {\n                value: text\n            }\n        });\n        document.body.appendChild(hideNode);\n        hideNode.select();\n\n        const copyResult = document.execCommand('copy');\n        document.body.removeChild(hideNode);\n\n        if (!copyResult) {\n            throw new Error('Unable to copy text');\n        }\n    },\n\n\n    elementRecalculationLike: function (elem, isController = true) {\n\n        let valueNode = elem.querySelector('p');\n        let valueLike = valueNode.innerHTML;\n\n        itemNodeParent = valueNode.closest('.content__reviews__item__control__item');\n\n        if (!elem.classList.contains('btn-reviews-small--active')) {\n            let field = {};\n            field[elem.dataset.value.toUpperCase()] = 'Y';\n            field['REVIEW_ID'] = elem.dataset.id;\n\n\n            if (isController) {\n                this.elementLikeController(field, elem);\n            } else {\n\n                if (valueLike != '0') {\n                    valueNode.textContent = Number(valueLike) + 1;\n                } else {\n                    valueNode.textContent = '1';\n                }\n\n                elem.classList.add('btn-reviews-small--active');\n            }\n        } else {\n            let field = {};\n            field[elem.dataset.value.toUpperCase()] = 'N';\n            field['REVIEW_ID'] = elem.dataset.id;\n\n            if (isController) {\n                this.elementLikeController(field, elem);\n            } else {\n                if (valueLike != '0') {\n                    valueNode.textContent = (Number(valueLike) - 1) == 0 ? '0' : Number(valueLike) - 1;\n                } else {\n                    valueNode.textContent = '0';\n                }\n\n                elem.classList.remove('btn-reviews-small--active');\n            }\n        }\n    },\n\n    elementLikeController: async function (field, elem) {\n\n        BX.ajax.runComponentAction('sotbit:rvw.reviews.list', 'like', {\n            mode: 'class',\n            data: {data: field},\n        }).then(\n            (response) => {\n                if (response.data != true) {\n                    this.elementRecalculationLike(elem, false);\n                }\n            },\n            (error) => {\n                this.elementRecalculationLike(elem, false);\n            }\n        );\n    },\n\n    initSlider: function () {\n        const swiperReviews = new Swiper('.swiper-reviews', {\n            slidesPerView: 7,\n            spaceBetween: 10,\n            navigation: {\n                nextEl: '.swiper-button-next',\n                prevEl: '.swiper-button-prev',\n            },\n        });\n    },\n\n    elementComplaintController: async function () {\n        const reviewId = this.currentComplaintItem.dataset.id;\n        if (!reviewId) {\n            return;\n        }\n\n        try {\n            const {data} = await BX.ajax.runComponentAction('sotbit:rvw.reviews.list', 'complaints', {\n                mode: 'class',\n                data: {\n                    id: reviewId,\n                },\n            });\n\n            if (data.status === 'success') {\n                SA_ReviewsAdd.closeModalResult();\n                SA_ReviewsAdd.showModalResult(data.message, data.status);\n            }\n\n        } catch (e) {\n            SA_ReviewsAdd.closeModalResult();\n            SA_ReviewsAdd.showModalResult(e.errors.map(item => item.message).join('\\n'), 'error');\n        }\n    },\n};\n"]}