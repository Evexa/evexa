SA_ReviewsFilter={init:function(e){this.eventHandlerFilter(),this.eventHandlerSelect(),this.eventHandlerSelectDocument(),this.initExample()},initExample:function(){this.example=new Choices(document.getElementById("star"),{searchEnabled:!1,itemSelectText:""}),this.example.passedElement.element.addEventListener("change",(e=>{const t=e.target.closest(".btn-filter");if(t.classList.contains("select")&&!1===t.classList.contains("select-active")){BX.show(document.querySelector(".choices")),t.classList.add("select-active");const c=t.querySelector('input[type="checkbox"]');if(c&&e.target!=c&&(c.checked?(c.checked=!1,c.setAttribute("checked","")):(c.setAttribute("checked",!0),c.checked=!0,c.value="false")),e.target.closest(".control-items")){let t=this.prepareForm(e.target.closest(".control-items"));SA_Reviews.reloadList(t)}}else{BX.hide(document.querySelector(".choices")),t.classList.remove("select-active");let e=this.prepareForm(t.closest(".control-items"));SA_Reviews.reloadList(e)}}),!1)},eventHandlerFilter:function(){const e=document.querySelectorAll(".reviews__control .btn-filter");for(let t of e)t.addEventListener("click",(e=>{const t=e.target.closest(".btn-filter"),c=t.querySelector(".need-transfer");if(c){c.classList.contains("transfer")?(c.classList.remove("transfer"),t.querySelector('[name="DATE_CREATION"]').value="desc"):(c.classList.add("transfer"),t.querySelector('[name="DATE_CREATION"]').value="asc");let s=this.prepareForm(e.target.closest(".control-items"));SA_Reviews.reloadList(s)}}))},setAttr:function(e,t){const c=new URL(window.location);c.searchParams.set(e,t),history.pushState(null,null,c)},eventHandlerSelect:function(){const e=document.querySelectorAll(".btn-filter");for(let t of e)t.addEventListener("click",(e=>{const t=e.target.closest(".btn-filter");if(t.classList.contains("select")&&!1===t.classList.contains("select-active")?(BX.show(document.querySelector(".choices")),t.classList.add("select-active")):(BX.hide(document.querySelector(".choices")),t.classList.remove("select-active")),t.querySelector('input[type="checkbox"]')){t.querySelector('input[type="checkbox"]').checked?t.querySelector('input[name="FILES"]')&&t.querySelector('input[name="FILES"]').removeAttribute("checked"):t.querySelector('input[name="FILES"]')&&t.querySelector('input[name="FILES"]').setAttribute("checked","true");let c=this.prepareForm(e.target.closest(".control-items"));SA_Reviews.reloadList(c)}}))},prepareForm:function(e){let t=new FormData(e);for(var c of(t.get("FILES")||t.append("FILES","off"),!t.get("more")&&this.getParam("more")&&t.append("more",this.getParam("more")),t.entries()))this.setAttr(c[0],c[1]);return t},getParam:function(e){return new URL(document.location).searchParams.get(e)},eventHandlerSelectDocument:function(){document.addEventListener("click",(e=>{const t=document.querySelector(".btn-filter.select-active");t&&(e.target.closest(".btn-filter.select-active")||(t.classList.remove("select-active"),BX.hide(document.querySelector(".choices"))))}))}};
//# sourceMappingURL=script.min.js.map
