{"version":3,"file":"script.min.js","names":["sotbitReviewsInitializeRatingEvents","instanceId","scrollToReviewsElement","element","y","getBoundingClientRect","top","window","scrollY","scrollTo","behavior","document","getElementById","addEventListener","reviewsTabButton","querySelector","click","BX","addCustomEvent","type","setTimeout"],"sources":["rvw.rating/templates/.default/script.js"],"mappings":"AAAA,SAASA,oCAAoCC,GAG3C,SAASC,EAAuBC,GAC9B,GAAIA,EAAS,CACX,MAAMC,EAAID,EAAQE,wBAAwBC,IAAMC,OAAOC,SAJ9C,GAKTD,OAAOE,SAAS,CAAEH,IAAKF,EAAGM,SAAU,UACtC,CACF,CAMAC,SAASC,eAAeX,IAAaY,iBAAiB,SAAS,KAC7D,MAAMV,EAAUQ,SAASC,eAAe,sBAGxC,GAAKT,EAeHD,EAAuBC,OAfX,CACZ,MAAMW,EAAmBH,SAASI,cAAc,qCAE5CD,IACFA,EAAiBE,QAEjBC,GAAGC,eAAe,4BAA6BC,IAChC,YAATA,GACFC,YAAW,KACTlB,EAhBHS,SAASC,eAAe,sBAgByB,GAElD,IAGN,CAEA,GAEJ","ignoreList":[],"sourcesContent":["function sotbitReviewsInitializeRatingEvents(instanceId) {\n  let offset = -80;\n\n  function scrollToReviewsElement(element) {\n    if (element) {\n      const y = element.getBoundingClientRect().top + window.scrollY + offset;\n      window.scrollTo({ top: y, behavior: 'smooth' });\n    }\n  }\n\n  function findReviewsContainer() {\n    return document.getElementById('sotbit-rvw-reviews');\n  }\n\n  document.getElementById(instanceId)?.addEventListener('click', () => {\n    const element = document.getElementById('sotbit-rvw-reviews');\n\n    // reviews tab might exist but be inactive, so we try to switch to reviews tab\n    if (!element) {\n      const reviewsTabButton = document.querySelector('.btn-reviews[data-type=\"reviews\"]');\n\n      if (reviewsTabButton) {\n        reviewsTabButton.click();\n\n        BX.addCustomEvent('sotbit:reviews.tabChange', (type) => {\n          if (type === 'reviews') {\n            setTimeout(() => {\n              scrollToReviewsElement(findReviewsContainer());\n            });\n          }\n        });\n      }\n    } else {\n      scrollToReviewsElement(element);\n    }\n  });\n}\n"]}